Fact documents_added Identified by "digitalcapability", "digitalagreement", "digitalagreement_two".
Fact digitalagreement_agreementtypecode Identified by String.
Fact digitalagreement_availabilitytimepercent Identified by String.
Fact digitalagreement_cityname Identified by String.
Fact digitalagreement_description Identified by String.
Fact digitalagreement_durationmeasure Identified by 30, 45, 60, 75, 90, 100, 120, 150, 180 .
Fact digitalagreement_endpointuri Identified by String.
Fact digitalagreement_formatid Identified by String.
Fact digitalagreement_id Identified by "DK12345678", "DK12345679", "DK12345680", "IT01234567890", "IT01234567891", "IT01234567892".
Fact digitalagreement_identificationcode Identified by String.
Fact digitalagreement_initiatingpartyindicator Identified by String.
Fact digitalagreement_issuedate Identified by String.
Fact digitalagreement_minimumdowntimescheduledurationmeasure Identified by Int.
Fact digitalagreement_minimumresponsetimedurationmeasure Identified by Int.
Fact digitalagreement_name Identified by String.
Fact digitalagreement_previousversionid Identified by String.
Fact digitalagreement_privatepartyindicator Identified by String.
Fact digitalagreement_protocolid Identified by String.
Fact digitalagreement_servicetypecode Identified by String.
Fact digitalagreement_ublversionid Identified by String.
Fact digitalagreement_versionid Identified by String.
Fact digitalagreement_two_agreementtypecode Identified by String.
Fact digitalagreement_two_availabilitytimepercent Identified by String.
Fact digitalagreement_two_cityname Identified by String.
Fact digitalagreement_two_description Identified by String.
Fact digitalagreement_two_durationmeasure Identified by 30, 45, 60, 75, 90, 100, 120, 150, 180 .
Fact digitalagreement_two_endpointuri Identified by String.
Fact digitalagreement_two_formatid Identified by String.
Fact digitalagreement_two_id Identified by "DK12345678", "DK12345679", "DK12345680", "IT01234567890", "IT01234567891", "IT01234567892".
Fact digitalagreement_two_identificationcode Identified by String.
Fact digitalagreement_two_initiatingpartyindicator Identified by String.
Fact digitalagreement_two_issuedate Identified by String.
Fact digitalagreement_two_minimumdowntimescheduledurationmeasure Identified by Int.
Fact digitalagreement_two_minimumresponsetimedurationmeasure Identified by Int.
Fact digitalagreement_two_name Identified by String.
Fact digitalagreement_two_previousversionid Identified by String.
Fact digitalagreement_two_privatepartyindicator Identified by String.
Fact digitalagreement_two_protocolid Identified by String.
Fact digitalagreement_two_servicetypecode Identified by String.
Fact digitalagreement_two_ublversionid Identified by String.
Fact digitalagreement_two_versionid Identified by String.
Fact digitalcapability_cityname Identified by String.
Fact digitalcapability_endpointuri Identified by String.
Fact digitalcapability_formatid Identified by String.
Fact digitalcapability_id Identified by "C12345-2023", "D1", "DC1", "Invoice", "CreditNote", "DebitNote", "DK12345678", "DK12345679", "DK12345680", "IT01234567890", "IT01234567891", "IT01234567892".
Fact digitalcapability_identificationcode Identified by String.
Fact digitalcapability_issuedate Identified by String.
Fact digitalcapability_name Identified by String.
Fact digitalcapability_protocolid Identified by String.
Fact digitalcapability_schemauri Identified by String.
Fact digitalcapability_ublversionid Identified by String.
Fact digitalcapability_versionid Identified by String.
Fact digitalagreement_agreementcountry Identified by  digitalagreement_identificationcode .
Fact digitalagreement_digitalagreementterms Identified by  digitalagreement_description .
Fact digitalagreement_digitalagreementterms_adoptionperiod Identified by  digitalagreement_durationmeasure .
Fact digitalagreement_digitalagreementterms_servicelevelagreement Identified by  digitalagreement_availabilitytimepercent * digitalagreement_id * digitalagreement_minimumdowntimescheduledurationmeasure * digitalagreement_minimumresponsetimedurationmeasure * digitalagreement_servicetypecode .
Fact digitalagreement_digitalprocess Identified by  digitalagreement_id .
Fact digitalagreement_digitalprocess_digitalcollaboration Identified by  digitalagreement_id .
Fact digitalagreement_digitalprocess_digitalcollaboration_receivingdigitalservice Identified by  digitalagreement_id .
Fact digitalagreement_digitalprocess_digitalcollaboration_receivingdigitalservice_digitaldeliverychannel_digitalmessagedelivery Identified by  digitalagreement_endpointuri * digitalagreement_protocolid .
Fact digitalagreement_digitalprocess_digitalcollaboration_receivingdigitalservice_digitaldocumentmetadata Identified by  digitalagreement_formatid * digitalagreement_versionid .
Fact digitalagreement_digitalprocess_digitalcollaboration_sendingdigitalservice Identified by  digitalagreement_id .
Fact digitalagreement_digitalprocess_digitalcollaboration_sendingdigitalservice_digitaldeliverychannel_digitalmessagedelivery Identified by  digitalagreement_endpointuri * digitalagreement_protocolid .
Fact digitalagreement_digitalprocess_digitalcollaboration_sendingdigitalservice_digitaldocumentmetadata Identified by  digitalagreement_formatid * digitalagreement_versionid .
Fact digitalagreement_participantparty Identified by  digitalagreement_initiatingpartyindicator * digitalagreement_privatepartyindicator .
Fact digitalagreement_participantparty_party_partyidentification Identified by  digitalagreement_id .
Fact digitalagreement_participantparty_party_partyname Identified by  digitalagreement_name .
Fact digitalagreement_participantparty_party_postaladdress Identified by  digitalagreement_cityname .
Fact digitalagreement_participantparty_party_postaladdress_country Identified by  digitalagreement_identificationcode .
Fact digitalagreement_two_agreementcountry Identified by  digitalagreement_two_identificationcode .
Fact digitalagreement_two_digitalagreementterms Identified by  digitalagreement_two_description .
Fact digitalagreement_two_digitalagreementterms_adoptionperiod Identified by  digitalagreement_two_durationmeasure .
Fact digitalagreement_two_digitalagreementterms_servicelevelagreement Identified by  digitalagreement_two_availabilitytimepercent * digitalagreement_two_id * digitalagreement_two_minimumdowntimescheduledurationmeasure * digitalagreement_two_minimumresponsetimedurationmeasure * digitalagreement_two_servicetypecode .
Fact digitalagreement_two_digitalprocess Identified by  digitalagreement_two_id .
Fact digitalagreement_two_digitalprocess_digitalcollaboration Identified by  digitalagreement_two_id .
Fact digitalagreement_two_digitalprocess_digitalcollaboration_receivingdigitalservice Identified by  digitalagreement_two_id .
Fact digitalagreement_two_digitalprocess_digitalcollaboration_receivingdigitalservice_digitaldeliverychannel_digitalmessagedelivery Identified by  digitalagreement_two_endpointuri * digitalagreement_two_protocolid .
Fact digitalagreement_two_digitalprocess_digitalcollaboration_receivingdigitalservice_digitaldocumentmetadata Identified by  digitalagreement_two_formatid * digitalagreement_two_versionid .
Fact digitalagreement_two_digitalprocess_digitalcollaboration_sendingdigitalservice Identified by  digitalagreement_two_id .
Fact digitalagreement_two_digitalprocess_digitalcollaboration_sendingdigitalservice_digitaldeliverychannel_digitalmessagedelivery Identified by  digitalagreement_two_endpointuri * digitalagreement_two_protocolid .
Fact digitalagreement_two_digitalprocess_digitalcollaboration_sendingdigitalservice_digitaldocumentmetadata Identified by  digitalagreement_two_formatid * digitalagreement_two_versionid .
Fact digitalagreement_two_participantparty Identified by  digitalagreement_two_initiatingpartyindicator * digitalagreement_two_privatepartyindicator .
Fact digitalagreement_two_participantparty_party_partyidentification Identified by  digitalagreement_two_id .
Fact digitalagreement_two_participantparty_party_partyname Identified by  digitalagreement_two_name .
Fact digitalagreement_two_participantparty_party_postaladdress Identified by  digitalagreement_two_cityname .
Fact digitalagreement_two_participantparty_party_postaladdress_country Identified by  digitalagreement_two_identificationcode .
Fact digitalcapability_businessparty_partyidentification Identified by  digitalcapability_id .
Fact digitalcapability_businessparty_partyname Identified by  digitalcapability_name .
Fact digitalcapability_businessparty_postaladdress Identified by  digitalcapability_cityname .
Fact digitalcapability_businessparty_postaladdress_country Identified by  digitalcapability_identificationcode .
Fact digitalcapability_digitalprocess Identified by  digitalcapability_id .
Fact digitalcapability_digitalprocess_digitalcollaboration Identified by  digitalcapability_id .
Fact digitalcapability_digitalprocess_digitalcollaboration_receivingdigitalservice Identified by  digitalcapability_id .
Fact digitalcapability_digitalprocess_digitalcollaboration_receivingdigitalservice_digitaldeliverychannel_digitalmessagedelivery Identified by  digitalcapability_endpointuri * digitalcapability_protocolid .
Fact digitalcapability_digitalprocess_digitalcollaboration_receivingdigitalservice_digitaldocumentmetadata Identified by  digitalcapability_formatid * digitalcapability_schemauri * digitalcapability_versionid .
Fact digitalcapability_digitalprocess_digitalcollaboration_sendingdigitalservice Identified by  digitalcapability_id .
Fact digitalcapability_digitalprocess_digitalcollaboration_sendingdigitalservice_digitaldeliverychannel_digitalmessagedelivery Identified by  digitalcapability_endpointuri * digitalcapability_protocolid .
Fact digitalcapability_digitalprocess_digitalcollaboration_sendingdigitalservice_digitaldocumentmetadata Identified by  digitalcapability_formatid * digitalcapability_schemauri * digitalcapability_versionid .
Fact digitalcapability_senderparty_partyidentification Identified by  digitalcapability_id .
Fact digitalcapability_senderparty_partyname Identified by  digitalcapability_name .
Fact digitalcapability_senderparty_postaladdress Identified by  digitalcapability_cityname .
Fact digitalcapability_senderparty_postaladdress_country Identified by  digitalcapability_identificationcode .

Bool partner_agreement_not_complete.
Bool partner_agreement_complete.

Act validate_digital_agreement
    Actor digitalagreement_two_participantparty_party_partyidentification
    Recipient digitalagreement_two_digitalagreementterms_adoptionperiod
    Conditioned by digitalagreement_two_participantparty_party_partyidentification && digitalagreement_two_digitalagreementterms_adoptionperiod.digitalagreement_two_durationmeasure < 100
    Creates partner_agreement_complete.

Act receive_reconciled_digital_agreement
    Actor digitalagreement_two_participantparty_party_partyidentification
    Conditioned by digitalagreement_two_participantparty_party_partyidentification
    Creates validate_digital_agreement (digitalagreement_two_participantparty_party_partyidentification, digitalagreement_two_digitalagreementterms_adoptionperiod)  Where Holds digitalagreement_two_participantparty_party_partyidentification && Holds digitalagreement_two_digitalagreementterms_adoptionperiod.

Act send_reconciled_digital_agreement
    Actor digitalagreement_two_participantparty_party_partyidentification1
    Recipient digitalagreement_two_participantparty_party_partyidentification2
    Conditioned by digitalagreement_two_participantparty_party_partyidentification1 && digitalagreement_two_participantparty_party_partyidentification2
    Creates receive_reconciled_digital_agreement (digitalagreement_two_participantparty_party_partyidentification2).

Act reconcile_digital_agreement
    Actor digitalagreement_participantparty_party_partyidentification
    Conditioned by digitalagreement_participantparty_party_partyidentification && documents_added("digitalagreement_two")
    Creates send_reconciled_digital_agreement(digitalagreement_two_participantparty_party_partyidentification1, digitalagreement_two_participantparty_party_partyidentification2) Where Holds digitalagreement_two_participantparty_party_partyidentification1 && Holds digitalagreement_two_participantparty_party_partyidentification2 && (digitalagreement_two_participantparty_party_partyidentification1 != digitalagreement_two_participantparty_party_partyidentification2), partner_agreement_not_complete.

Act receive_digital_agreement
    Actor digitalagreement_participantparty_party_partyidentification
    Conditioned by digitalagreement_participantparty_party_partyidentification
    Creates reconcile_digital_agreement (digitalagreement_participantparty_party_partyidentification).

Act send_digital_agreement
    Actor digitalagreement_participantparty_party_partyidentification1
    Recipient digitalagreement_participantparty_party_partyidentification2
    Conditioned by digitalagreement_participantparty_party_partyidentification1 && digitalagreement_participantparty_party_partyidentification2
    Creates receive_digital_agreement (digitalagreement_participantparty_party_partyidentification2).

Act match_digital_capabilities
    Actor digitalcapability_digitalprocess_digitalcollaboration_sendingdigitalservice
    Recipient digitalcapability_digitalprocess_digitalcollaboration_receivingdigitalservice
    Conditioned by digitalcapability_digitalprocess_digitalcollaboration_sendingdigitalservice && digitalcapability_digitalprocess_digitalcollaboration_receivingdigitalservice && digitalcapability_digitalprocess_digitalcollaboration_sendingdigitalservice.digitalcapability_id == "Invoice" && digitalcapability_digitalprocess_digitalcollaboration_receivingdigitalservice.digitalcapability_id == "CreditNote"
    Creates send_digital_agreement (digitalagreement_participantparty_party_partyidentification1, digitalagreement_participantparty_party_partyidentification2) Where Holds digitalagreement_participantparty_party_partyidentification1 && Holds digitalagreement_participantparty_party_partyidentification2 && (digitalagreement_two_participantparty_party_partyidentification1 != digitalagreement_two_participantparty_party_partyidentification2), partner_agreement_not_complete.

Act receive_digital_capabilities
    Actor digitalcapability_businessparty_partyidentification
    Conditioned by digitalcapability_businessparty_partyidentification
    Creates match_digital_capabilities (digitalcapability_digitalprocess_digitalcollaboration_sendingdigitalservice, digitalcapability_digitalprocess_digitalcollaboration_receivingdigitalservice ) Where Holds digitalcapability_digitalprocess_digitalcollaboration_sendingdigitalservice && Holds digitalcapability_digitalprocess_digitalcollaboration_receivingdigitalservice.

Act send_digital_capabilities
    Actor digitalcapability_senderparty_partyidentification
    Recipient digitalcapability_businessparty_partyidentification
    Holds when True
    Conditioned by digitalcapability_senderparty_partyidentification && digitalcapability_businessparty_partyidentification
    Creates receive_digital_capabilities(digitalcapability_businessparty_partyidentification).

Extend Act match_digital_capabilities Terminates receive_digital_capabilities(digitalcapability_businessparty_partyidentification).
Extend Act send_digital_agreement Terminates match_digital_capabilities (digitalcapability_digitalprocess_digitalcollaboration_sendingdigitalservice, digitalcapability_digitalprocess_digitalcollaboration_receivingdigitalservice), partner_agreement_not_complete.
Extend Act receive_digital_agreement Terminates send_digital_agreement (digitalagreement_participantparty_party_partyidentification, digitalagreement_participantparty_party_partyidentification).
Extend Act reconcile_digital_agreement Terminates receive_digital_agreement (digitalagreement_participantparty_party_partyidentification).
Extend Act send_reconciled_digital_agreement Terminates reconcile_digital_agreement (digitalagreement_participantparty_party_partyidentification) , partner_agreement_not_complete.
Extend Act receive_reconciled_digital_agreement Terminates send_reconciled_digital_agreement(digitalagreement_two_participantparty_party_partyidentification, digitalagreement_two_participantparty_party_partyidentification).
Extend Act validate_digital_agreement Terminates receive_reconciled_digital_agreement (digitalagreement_two_participantparty_party_partyidentification).
